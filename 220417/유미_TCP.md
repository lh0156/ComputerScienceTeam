# TCP/IP

## 데이터 통신

22/04/11
<div>
<img src = "https://user-images.githubusercontent.com/87955005/163720408-4f638200-e790-4810-a536-63681d2fab4a.png" width="11%">
<img src = "https://user-images.githubusercontent.com/87955005/163721038-fe7654e1-5060-4ff3-a224-8a3123723e13.png" width="11%">
</div>

📎 OSI 7계층; 네트워크 전송 시 데이터 표준 ([참고](https://shlee0882.tistory.com/110))<br><br>

- 응용 계층; 소프트웨어 UI, 사용자의 입출력
- 표현 계층; 데이터 포장, 압축, 암호화<br>
- 세션 계층; 통신을 위한 세션 확립, 유지, 중단<br>
- 전송 계층; 신뢰성 있는 연결 유지 (TCP)<br>
- 네트워크 계층; 목적지까지 안전하고 빠르게 데이터 전달 (IP)<br>
- 데이터 링크 계층; 정보의 오류와 흐름 관리<br>
- 물리 계층; 통신 케이블로 데이터 전송<br>
<br>

📎 TCP/IP 4계층; OSI를 기반으로 실제 사용하는 인터넷 표준([참고](https://velog.io/@jehjong/%EA%B0%9C%EB%B0%9C%EC%9E%90-%EC%9D%B8%ED%84%B0%EB%B7%B0-TCPIP-4%EA%B3%84%EC%B8%B5))

- **응용 계층**; 애플리케이션들이 데이터를 교환하기 위해 사용하는 프로토콜 정의(FTP, HTTP, SSH)
- **전송 계층**; 통신 노드 연결 제어, 신뢰성 있는 데이터 전송 담당함. (TCP, UDP)
- **인터넷 계층**; 네트워크상 최종 목적지까지 정확하게 연결되도록 연결성 제공함. (IP, ARP, RARP)
- **네트워크 엑세스 계층**; 패킷을 네트워크 매체로 전달하는 것과 네트워크 매체에서 패킷을 받아드리는 과정 담당함.
<br>

📎 패킷 통신 ([참고](https://velog.io/@haero_kim/%EB%AC%BC-%ED%9D%90%EB%A5%B4%EB%93%AF-%EC%9D%BD%EC%96%B4%EB%B3%B4%EB%8A%94-TCPIP))

- 과거 회선 교환 방식의 단점(단절에 취약, 설정 경로 독점으로 비효율성) 보완
- 미리 이동 경로를 정하지 않고, **데이터**를 **패킷**이라는 작은 단위로 나누어 다중 노드로 구성된 네트워크를 통해 전송
- 데이터들이 잘게 쪼개어져 패킷이라는 단위로 변환되는 과정을 **캡슐화**라고 함.
- 패킷을 수신한 중간 노드가 패킷의 최종 목적지를 확인하고, 목적지로 가는 경로 중 딱 그 상황에서 가장 최적이라고 판단되는 경로를 따라 패킷을 이동시키는 **라우팅**을 해줘야 함. 이 라우팅을 수행해주는 중간 노드가 라우터인 것.
- 해당 네트워크가 사용하는 프로토콜을 기반으로 데이터를 작은 단위로 분할하고, 분할된 데이터 앞에 패킷 번호, 송수신지 정보 등 다양한 정보를 담은 패킷 헤더를 붙여 최종 패킷 데이터 전송
<br>

📎 패킷 통신 관점에서 TCP/IP

- TCP/IP 프로토콜에 의거하여 데이터를 **4계층** 구조에 따라 순차적으로 **캡슐화**
- 가장 이상적이고 효율적인 프로토콜이라 거의 표준화됨.
- 데이터를 수신하는 호스트에서도 이 계층 구조에 따라 캡슐화된 패킷을 **역순**으로 포장을 뜯어가며 원래 데이터를 확인
<br>

📎 TCP/IP란?

- 인터넷에서 컴퓨터들이 서로 정보를 주고 받는 데 쓰이는 **통신 규약(프로토콜)의 모음**
- 패킷 통신 방식의 인터넷 프로토콜인 **IP**와 전송 조절 프로토콜인 **TCP**로 구성됨.
- IP 주소 체계를 따르고 IP Routing을 이용해 목적지에 도달함.
- TCP 특성을 활용해 송수신자의 논리적 연결을 생성하고, 신뢰성 유지
- 송신자가 수신자에게 IP 주소를 사용하여 데이터를 전달하고, 그 데이터가 제대로 갔는지, 너무 빠르지 않은지, 제대로 받았다고 연락 오는지에 대한 이야기를 하는 것
<br>

📎 IP(Internet Protocol)

- 인터넷에서 컴퓨터의 위치를 찾아 데이터를 전송하기 위해 지켜야 할 규약
- 맨 아래 계층으로 올바른 **목적지**를 찾는 **패킷 GPS 역할**을 함.
- 4개의 숫자로 구성되며 크기에 따라 IPv4, IPv6으로 나뉨.
- IPv4; 10진수로 표현하며 각 자리는 .으로 구분함. 총 32비트, 각 숫자는 1바이트
- IPv6; 4자리 16진수로 표현하며 각 자리는 :으로 구분함. 총 128비트, 각 숫자는 4바이트
<br><br>

## 전송 계층 프로토콜

📎 프로토콜

- 하드웨어와 운영체제 등이 서로 통신하기 위해 필요한 규칙
- 어떤 시스템이 다른 시스템과 통신을 원할하게 수용하도록 해주는 규약
<br>

📎 TCP/IP의 전송 계층

- OSI 7계층의 전송 계층
- 애플리케이션 계층의 세션과 데이터그램 통신 서비스 제공
- 통신 **노드** 간의 연결을 **제어**하고, 신뢰성 있는 **데이터 전송 담당**
<br>

📎 전송 계층 프로토콜

- 포트 번호를 이용하여 주소를 지정하고 데이터 오류 검사를 위한 **체크섬**이 존재한다는 공통점이 있음.
- **TCP**(Transmission Control Protocol); 데이터를 중요시 하며, 통신의 **신뢰성** 향상. 웹, 메일, 파일 공유 등 누락되면 안 되는 서비스에 사용
- **UDP**(User Datagram Protocol); 신뢰성은 떨어지나, 확인 응답과 같은 절차 생략으로 **신속성** 높임. 속도가 중요한 서비스에 사용
<br>

📎 TCP

- **연결 지향적 프로토콜**로 클라이언트와 서버가 연결된 상태에서 데이터를 주고 받는 프로토콜을 의미함.
- **흐름 제어**(송수신 처리 속도 조절)와 **혼잡 제어**(패킷 수 조정)를 지원하며 데이터의 **순서**를 **보장**함.
- 클라이언트가 연결 요청을 하고, 서버가 연결을 수락하면 통신 선로가 고정되고, 모든 데이터는 **고정된 통신 선로**를 통해 **순차적 전달**됨.
- UDP는 신뢰성을 제공하지 않으므로, TCP를 사용하는 것이 무난하나, 속도가 느림.
- 대부분의 웹 통신, 이메일, 파일 전송에 사용
<br>

📎 UDP

- **비연결형 프로토콜**로 TCP와 달리 연결 설정이 없음.
- 혼잡 제어를 하지 않기 때문에 TCP 보다 **빠르다**는 장점이 있음.
- 데이터 전송에 대한 보장을 하지 않기 때문에 **패킷 손실**이 발생할 수 있음.
- DNS, 멀티미디어에서 사용
<br>

📎 UDP 사용하는 경우

- **응용 프로토콜**에서 UDP를 사용해야한다고 지정하는 경우; 주로 응용 프로토콜에서 신뢰성 제공을 위한 기능이 포함됨.
- 응용 프로토콜이 하부 통신망의 **브로드**나 **멀티캐스트** 기능을 이용하는 경우; TCP는 일대일 연결을 제공하기 때문.
- 응용 프로그램이 **안정**되고, 기관 내의 **통신망 환경**에 있어서 신뢰성 제공을 위한 오버헤드가 불필요한 경우
- 오디오나 비디오와 같은 **실시간** 연속 미디어의 전송에 UDP가 더 유리함.
<br>
