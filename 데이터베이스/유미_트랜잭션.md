# 트랜잭션

## 트랜잭션의 이해

22/07/24

📎 트랜잭션

- 데이터베이스를 조작하기 위한 하나의 논리적 단위를 이루는 일련의 **연산 집합**
- **동일 데이터**에 다수 사용자의 접근 허용 시 일관성 훼손 방지
- DB를 사용하여 처리하는 작업을 하나의 **묶음**으로 인식하여 묶음 단위로 실행되도록 정의한 개념

📎 ACID

<aside>
💡 다수의 연산으로 구성된 트랜잭션이 사용자에게 단일작업처럼 다뤄지도록 **ACID 특징**을 준수함.

</aside>

- **원자성**; 하나의 트랜잭션에 포함된 모든 연산은 완전히 수행되거나 전혀 수행되지 않음.
- **일관성**; 특정 트랜잭션이 수행되기 전과 후에 데이터베이스가 일관된 상태를 유지
- **고립성**; 특정 트랜잭션이 데이터베이스를 갱신하는 동안 다른 트랜잭션에 의해 방해받지 않음.
- **지속성**; 완료된 트랜잭션의 결과는 어떠한 시스템의 장애에도 데이터베이스에 반영

## 트랜잭션의 연산

📎 트랜잭션의 두 연산

- Read(X): 데이터베이스에서 데이터 X를 읽고, 트랜잭션이 실행되는 메모리의 변수 X에 값을 저장하는 연산
- Write(X): 트랜잭션이 실행되는 메모리에 있는 변수 X의 값을 데이터베이스에 저장하는 연산

📎 트랜잭션 실행의 연산

- Commit; 트랜잭션 연산에 의해 갱신된 데이터 항목의 값을 데이터베이스에 반영시키고 지속성을 확보하는 연산
- Rollback; 트랜잭션이 중단되기 이전까지 수행한 연산에 의해 갱신된 모든 데이터 항목의 값을 무효화하여 일관성을 확보하는 연산

📎 트랜잭션 5가지 상태 변화

![Untitled](%E1%84%90%E1%85%B3%E1%84%85%E1%85%A2%E1%86%AB%E1%84%8C%E1%85%A2%E1%86%A8%E1%84%89%E1%85%A7%E1%86%AB%20f3ca3df7186c4f84bc2b71b8bc0d8459/Untitled.png)

- 동작; 트랜잭션이 시작을 준비 또는 실행 중인 상태
- 부분 커밋; 마지막 연산을 실행한 직후의 상태
- 커밋; 모든 실행이 성공적으로 완료된 후의 상태
- 실패; 실행이 정상적으로 진행될 수 없는 상태
- 중단; 실행 실패로 롤백되고 시작 이전의 상태로 환원된 상태