# 교착상태

## 교착상태란?

22/06/12

📎 교착상태(deadlock)

![Untitled](%E1%84%80%E1%85%AD%E1%84%8E%E1%85%A1%E1%86%A8%E1%84%89%E1%85%A1%E1%86%BC%E1%84%90%E1%85%A2%20f204bcf8f33448a1bd7bc78fe72c24c4/Untitled.png)

- 2개 이상 프로세스가 서로 상대방의 작업이 끝나기만을 기다리고 있는 상태
- 결과적으로 아무도 완료되지 못함.

📎 교착 상태

![Untitled](%E1%84%80%E1%85%AD%E1%84%8E%E1%85%A1%E1%86%A8%E1%84%89%E1%85%A1%E1%86%BC%E1%84%90%E1%85%A2%20f204bcf8f33448a1bd7bc78fe72c24c4/Untitled%201.png)

- 영원히 기다릴 수 밖에 없음.

📎 기아 상태

![Untitled](%E1%84%80%E1%85%AD%E1%84%8E%E1%85%A1%E1%86%A8%E1%84%89%E1%85%A1%E1%86%BC%E1%84%90%E1%85%A2%20f204bcf8f33448a1bd7bc78fe72c24c4/Untitled%202.png)

- 기다리다 보면 해소될 가능성이 있음.

📎 교착상태의 필요조건

- **상호배제** 조건
- **점유 대기** 조건
- **비선점** 조건
- **환형 대기** 조건

📎 상호배제 조건

- 프로세스들이 자원에 대한 배타적인 통제권을 요구
- 적어도 하나 이상의 자원은 공동 사용될 수 없음.
- 즉, 필요로 하는 자원을 다른 프로세스가 점유하고 있으면 반드시 대기

📎 점유 대기 조건

- 프로세스가 이미 다른 자원을 할당 받아 배타적으로 **점유**하고 있는 상황에서 다른 프로세스가 점유하고 있는 자원이 해제되기를 기다리는 상황

📎 비선점 조건

- 프로세스에 할당된 자원은 그 프로세스가 사용을 마치고 스스로 반환하기 전에 제거되지 않음.
- 즉, 다른 프로세스에 의해서는 해제되지 않음.

📎 환형 대기 조건

- 프로세스의 자원 점유 및 점유된 자원의 요구 관계가 환형을 이루며 대기

## 교착상태 처리

📎 교착상태 처리

- 교착상태 방지; 교착상태의 필요조건 중 하나라도 발생할 수 없도록 막음.
- 교착상태 회피; 프로세스에 필요한 자원의 최대량에 대한 정보를 활용하여 교착상태가 발생하지 않도록 함.
- 교착상태 탐지 및 복구; 교착상태가 발생하면 이에 따른 적절한 조치를 취하여 정상 상태로 복구

📎 교착 상태 방지

- 자원의 상호배제 조건 방지; 모든 자원을 **공유** 허용
- 점유와 대기 조건 방지; 모든 자원에 대한 **선점** 허용
- 비선점 조건 방지; 필요 자원을 **한 번**에 모두 할당
- 순환 대기 조건 방지; 자원에게 순서 부여를 통해 프로세스 순서의 증가 방향으로만 자원 요청

📎 교착 상태 회피

- 데드락이 발생할 위험이 있는 자원이 생기면 자원 할당 요청을 보류하여 시스템을 안전하게 유지
- 오버헤드가 많이 발생함

📎 교착 상태 탐지

- 자원 할당 그래프를 통해 교착 상태 탐지 가능
- 자원을 요청할 때마다 탐지 알고리즘을 실행하면, 오버헤드가 발생

![Untitled](%E1%84%80%E1%85%AD%E1%84%8E%E1%85%A1%E1%86%A8%E1%84%89%E1%85%A1%E1%86%BC%E1%84%90%E1%85%A2%20f204bcf8f33448a1bd7bc78fe72c24c4/Untitled%203.png)

📎 교착 상태 회복

- 프로세스 **종료** 방법; 교착 상태의 프로세스를 모두 중지, 한 프로세스씩 중지
- 자원 **선점** 방법; 자원을 빼앗긴 프로세스는 강제 종료 이후 재시작, 교착 상태에 빠진 프로세스가 필요로 하는 자원 강제로 가져옴.