# UUID

## ****UUID?****

                                                                                                                                                    2022.09.17

📎 UUID란 무엇인가

- UUID는 Universally unique identifier의 약자로서, 정보 식별을 위하여 사용되는 식별자이다
- 128-bit 숫자로 이루어져 있으며, xxxxxxxx-xxxx-Mxxx-Nxxx-xxxxxxxxxxxx 형식으로 표현한다
- UUID의 장점 중, 데이터들이 나중에 단일 DB로 통합되거나, 같은 채널에서 전송되더라도 식별자가 중복될 확률이 매우 낮다는 점이 있었다

📎 UUID 발번 방식

- canonical 텍스트 표현에서, UUID는 16 octets가 32 hex 숫자로 표현되고, hypen(-)으로 구분된 5개의 그룹으로 이루어짐
- 8-4-4-4-12 형식
- `123e4567-e89b-12d3-a456-426655440000`
- `xxxxxxxx-xxxx-Mxxx-Nxxx-xxxxxxxxxxxx`
- M은 4 bit로, version을 의미
    - 위 예제에서 M=1, version=1
- N은 1~3 bit로, variant를 의미
    - 위 예제에서 N=a(=10xx), variant=1
- 5개의 그룹은 순서대로 아래를 의미함

📎 UUID 레코드 레이아웃

| --- | --- | --- | --- |

📎 사용 예시

- 에임 시스템: 특정 이벤트가 발생 했을 때 이벤트 발생 주체에게 UUID를 발번한다.
이 UUID를 가지고 시작부터 끝까지를 모두 추적할 수 있다. (로그 등등)
- 타 회사: 비회원 브라우저당 월 3회 게시글 무료 조회

## 비 암호화 UUID 발번법

                                                                                                                                                    2022.09.17

📎 UUID v1

- 타임 스탬프와 mac 주소를 이용하여 발생시킴
- 랜덤하게 생성해 내는 v4보다 고유한 MAC주소와 항상 변하는 타임스탬프를 이용하여 UUID를 생성하기 때문에 중복될 가능성 더욱 낮음.
- UUID를 통해 MAC주소가 유출될 가능성 존재, MAC주소와 타임스탬프를 알고 있다면 UUID를 유추가능함. -> 보안상 문제

```jsx
MAC addr - 56:78:9a:bc:de:f()
timestamp - ef089ab01234567

uuid - 01234567-89ab-4ef0-8234-56789abcdef()
```

❓ 퀴즈

- TimeStamp의 기준 시는 무엇일까요?
    
    세계 표준시, 그리니치 천문을 기준으로 함.
    
- 컴퓨터 시간이 변경되면 어떻게 될까요?
    
    상관없음. 1582년 1월 1일 자정을 기준으로 그레고리력으로 0.1초마다 리셋됨
     * 여담으로 기준시를 변경할 수 있으나 절때 권장하지 않음.
    
- 시간을 사용하는 UUID v1의 특성 상 어떤 문제가 있을까요?
    
    10ns (1분의 10억)초 내에 동일한 UUID가 생성되었을 경우 중복될 수 있음.
    

📎 UUID v4

- 완전 난수 기반
- 현재 가장 많이 사용되는 UUID
- 생성 원리상 중복될 가능성이 있음
- 중복 가능성 0.00000000006%로 매우 희박

## 암호화 UUID 발번법(개인적으로 안써도 된다고 생각)

                                                                                                                                                    2022.09.17

📎 UUID v3

- md5 알고리즘 사용

📎 UUID v5

- SHA256 알고리즘 사용